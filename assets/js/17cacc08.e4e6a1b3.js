"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[88893],{36314:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>d,toc:()=>p});var i=s(24246),o=s(71670),t=(s(33337),s(39798),s(32189)),r=s(9785),a=s(79022);const l={title:".moon/workspace.{pkl,yml}",toc_max_heading_level:6},c=void 0,d={id:"config/workspace",title:".moon/workspace.{pkl,yml}",description:"The .moon/workspace.yml file configures projects and services in the workspace. This file is",source:"@site/docs/config/workspace.mdx",sourceDirName:"config",slug:"/config/workspace",permalink:"/docs/config/workspace",draft:!1,unlisted:!1,editUrl:"https://github.com/moonrepo/moon/tree/master/website/docs/config/workspace.mdx",tags:[],version:"current",frontMatter:{title:".moon/workspace.{pkl,yml}",toc_max_heading_level:6},sidebar:"docs",previous:{title:"Config files",permalink:"/docs/config"},next:{title:".moon/toolchain.{pkl,yml}",permalink:"/docs/config/toolchain"}},h={},p=[{value:"<code>extends</code>",id:"extends",level:2},{value:"<code>projects</code><RequiredLabel></RequiredLabel>",id:"projects",level:2},{value:"Using a map",id:"using-a-map",level:3},{value:"Using globs",id:"using-globs",level:3},{value:"Using a map <em>and</em> globs",id:"using-a-map-and-globs",level:3},{value:"<code>codeowners</code><VersionLabel></VersionLabel>",id:"codeowners",level:2},{value:"<code>globalPaths</code>",id:"globalpaths",level:3},{value:"<code>orderBy</code>",id:"orderby",level:3},{value:"<code>syncOnRun</code>",id:"synconrun",level:3},{value:"<code>constraints</code>",id:"constraints",level:2},{value:"<code>enforceProjectTypeRelationships</code>",id:"enforceprojecttyperelationships",level:3},{value:"<code>tagRelationships</code>",id:"tagrelationships",level:3},{value:"<code>docker</code><VersionLabel></VersionLabel>",id:"docker",level:2},{value:"<code>prune</code>",id:"prune",level:3},{value:"<code>deleteVendorDirectories</code>",id:"deletevendordirectories",level:4},{value:"<code>installToolchainDeps</code>",id:"installtoolchaindeps",level:4},{value:"<code>scaffold</code>",id:"scaffold",level:3},{value:"<code>copyToolchainFiles</code>",id:"copytoolchainfiles",level:4},{value:"<code>include</code>",id:"include",level:4},{value:"<code>experiments</code><VersionLabel></VersionLabel>",id:"experiments",level:2},{value:"<code>extensions</code><VersionLabel></VersionLabel>",id:"extensions",level:2},{value:"<code>generator</code>",id:"generator",level:2},{value:"<code>templates</code>",id:"templates",level:3},{value:"<code>hasher</code>",id:"hasher",level:2},{value:"<code>batchSize</code>",id:"batchsize",level:3},{value:"<code>ignoreMissingPatterns</code><VersionLabel></VersionLabel>",id:"ignoremissingpatterns",level:3},{value:"<code>ignorePatterns</code><VersionLabel></VersionLabel>",id:"ignorepatterns",level:3},{value:"<code>optimization</code>",id:"optimization",level:3},{value:"<code>walkStrategy</code>",id:"walkstrategy",level:3},{value:"<code>warnOnMissingInputs</code>",id:"warnonmissinginputs",level:3},{value:"<code>notifier</code>",id:"notifier",level:2},{value:"<code>webhookUrl</code>",id:"webhookurl",level:3},{value:"<code>unstable_remote</code><VersionLabel></VersionLabel>",id:"unstable_remote",level:2},{value:"<code>api</code><VersionLabel></VersionLabel>",id:"api",level:3},{value:"<code>auth</code><VersionLabel></VersionLabel>",id:"auth",level:3},{value:"<code>headers</code><VersionLabel></VersionLabel>",id:"headers",level:4},{value:"<code>token</code><VersionLabel></VersionLabel>",id:"token",level:4},{value:"<code>cache</code>",id:"cache",level:3},{value:"<code>compression</code><VersionLabel></VersionLabel>",id:"compression",level:4},{value:"<code>instanceName</code>",id:"instancename",level:4},{value:"<code>host</code>",id:"host",level:3},{value:"<code>mtls</code>",id:"mtls",level:3},{value:"<code>assumeHttp2</code>",id:"assumehttp2",level:4},{value:"<code>caCert</code>",id:"cacert",level:4},{value:"<code>clientCert</code>",id:"clientcert",level:4},{value:"<code>clientKey</code>",id:"clientkey",level:4},{value:"<code>domain</code>",id:"domain",level:4},{value:"<code>tls</code>",id:"tls",level:3},{value:"<code>assumeHttp2</code>",id:"assumehttp2-1",level:4},{value:"<code>cert</code>",id:"cert",level:4},{value:"<code>domain</code>",id:"domain-1",level:4},{value:"<code>runner</code>",id:"runner",level:2},{value:"<code>archivableTargets</code>",id:"archivabletargets",level:3},{value:"<code>autoCleanCache</code><VersionLabel></VersionLabel>",id:"autocleancache",level:3},{value:"<code>cacheLifetime</code>",id:"cachelifetime",level:3},{value:"<code>inheritColorsForPipedTasks</code>",id:"inheritcolorsforpipedtasks",level:3},{value:"<code>killProcessThreshold</code><VersionLabel></VersionLabel>",id:"killprocessthreshold",level:3},{value:"<code>logRunningCommand</code>",id:"logrunningcommand",level:3},{value:"<code>telemetry</code>",id:"telemetry",level:2},{value:"<code>vcs</code>",id:"vcs",level:2},{value:"<code>defaultBranch</code>",id:"defaultbranch",level:3},{value:"<code>hooks</code><VersionLabel></VersionLabel>",id:"hooks",level:3},{value:"<code>hookFormat</code><VersionLabel></VersionLabel>",id:"hookformat",level:3},{value:"<code>manager</code>",id:"manager",level:3},{value:"<code>provider</code><VersionLabel></VersionLabel>",id:"provider",level:3},{value:"<code>remoteCandidates</code>",id:"remotecandidates",level:3},{value:"<code>syncHooks</code><VersionLabel></VersionLabel>",id:"synchooks",level:3},{value:"<code>versionConstraint</code>",id:"versionconstraint",level:2}];function m(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:".moon/workspace.yml"})," file configures projects and services in the workspace. This file is\n",(0,i.jsx)(n.em,{children:"required"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml"',children:"$schema: 'https://moonrepo.dev/schemas/workspace.json'\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Workspace configuration can also be written in ",(0,i.jsx)(n.a,{href:"../guides/pkl-config",children:"Pkl"})," instead of YAML."]})}),"\n",(0,i.jsx)(n.h2,{id:"extends",children:(0,i.jsx)(n.code,{children:"extends"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#extends"}),"\n",(0,i.jsxs)(n.p,{children:["Defines one or many external ",(0,i.jsx)(n.code,{children:".moon/workspace.yml"}),"'s to extend and inherit settings from. Perfect\nfor reusability and sharing configuration across repositories and projects. When defined, this\nsetting must be an HTTPS URL ",(0,i.jsx)(n.em,{children:"or"})," relative file system path that points to a valid YAML document!"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {1}',children:"extends: 'https://raw.githubusercontent.com/organization/repository/master/.moon/workspace.yml'\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Settings will be merged recursively for blocks, with values defined in the local configuration\ntaking precedence over those defined in the extended configuration. However, the ",(0,i.jsx)(n.code,{children:"projects"})," setting\n",(0,i.jsx)(n.em,{children:"does not merge"}),"!"]})}),"\n",(0,i.jsxs)(n.h2,{id:"projects",children:[(0,i.jsx)(n.code,{children:"projects"}),(0,i.jsx)(r.Z,{})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#projects"}),"\n",(0,i.jsxs)(n.p,{children:["Defines the location of all ",(0,i.jsx)(n.a,{href:"../concepts/project",children:"projects"})," within the workspace. Supports either a\nmanual map of projects (default), a list of globs in which to automatically locate projects, ",(0,i.jsx)(n.em,{children:"or"}),"\nboth."]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Projects that depend on each other and form a cycle must be avoided! While we do our best to avoid\nan infinite loop and disconnect nodes from each other, there's no guarantee that tasks will run in\nthe correct order."})}),"\n",(0,i.jsx)(n.h3,{id:"using-a-map",children:"Using a map"}),"\n",(0,i.jsxs)(n.p,{children:["When using a map, each project must be ",(0,i.jsx)(n.em,{children:"manually"})," configured and requires a unique\n",(0,i.jsx)(n.a,{href:"../concepts/project#names",children:"name"})," as the map key, where this name is used heavily on the command\nline and within the project graph for uniquely identifying the project amongst all projects. The map\nvalue (known as the project source) is a file system path to the project folder, relative from the\nworkspace root, and must be contained within the workspace boundary."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml"',children:"projects:\n  admin: 'apps/admin'\n  apiClients: 'packages/api-clients'\n  designSystem: 'packages/design-system'\n  web: 'apps/web'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"using-globs",children:"Using globs"}),"\n",(0,i.jsxs)(n.p,{children:["If manually mapping projects is too tedious or cumbersome, you may provide a list of\n",(0,i.jsx)(n.a,{href:"../concepts/file-pattern#globs",children:"globs"})," to automatically locate all project folders, relative from\nthe workspace root."]}),"\n",(0,i.jsxs)(n.p,{children:["When using this approach, the project name is derived from the project folder name, and is cleaned\nto our ",(0,i.jsx)(n.a,{href:"../concepts/project#names",children:"supported characters"}),", but can be customized with the\n",(0,i.jsx)(n.a,{href:"./project#id",children:(0,i.jsx)(n.code,{children:"id"})})," setting in ",(0,i.jsx)(n.a,{href:"./project",children:(0,i.jsx)(n.code,{children:"moon.yml"})}),". Furthermore, globbing ",(0,i.jsx)(n.strong,{children:"does risk the\nchance of collision"}),", and when that happens, we log a warning and skip the conflicting project from\nbeing configured in the project graph."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml"',children:"projects:\n  - 'apps/*'\n  - 'packages/*'\n  # Only shared folders with a moon configuration\n  - 'shared/*/moon.yml'\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"using-a-map-and-globs",children:["Using a map ",(0,i.jsx)(n.em,{children:"and"})," globs"]}),"\n",(0,i.jsxs)(n.p,{children:["For those situations where you want to use ",(0,i.jsx)(n.em,{children:"both"})," patterns, you can! The list of globs can be\ndefined under a ",(0,i.jsx)(n.code,{children:"globs"})," field, while the map of projects under a ",(0,i.jsx)(n.code,{children:"sources"})," field."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml"',children:"projects:\n  globs:\n    - 'apps/*'\n    - 'packages/*'\n  sources:\n    www: 'www'\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"codeowners",children:[(0,i.jsx)(n.code,{children:"codeowners"}),(0,i.jsx)(a.Z,{version:"1.8.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#codeowners"}),"\n",(0,i.jsxs)(n.p,{children:["Configures code owners (",(0,i.jsx)(n.code,{children:"CODEOWNERS"}),") integration across the entire workspace."]}),"\n",(0,i.jsx)(n.h3,{id:"globalpaths",children:(0,i.jsx)(n.code,{children:"globalPaths"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/CodeownersConfig#globalPaths"}),"\n",(0,i.jsxs)(n.p,{children:["This setting defines file patterns and their owners at the workspace-level, and are applied to any\nmatching path, at any depth, within the entire workspace. This is useful for defining global or\nfallback owners when a granular ",(0,i.jsx)(n.a,{href:"./project#paths",children:"project-level path"})," does not match or exist."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-5}',children:"codeowners:\n  globalPaths:\n    '*': ['@admins']\n    'config/': ['@infra']\n    '/.github/': ['@infra']\n"})}),"\n",(0,i.jsx)(n.h3,{id:"orderby",children:(0,i.jsx)(n.code,{children:"orderBy"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/CodeownersConfig#orderBy"}),"\n",(0,i.jsxs)(n.p,{children:["The order in which code owners, grouped by project, are listed in the ",(0,i.jsx)(n.code,{children:"CODEOWNERS"}),' file. Accepts\n"file-source" (default) or "project-name".']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"codeowners:\n  orderBy: 'project-name'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"synconrun",children:(0,i.jsx)(n.code,{children:"syncOnRun"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/CodeownersConfig#syncOnRun"}),"\n",(0,i.jsxs)(n.p,{children:["Will automatically generate a ",(0,i.jsx)(n.code,{children:"CODEOWNERS"})," file by aggregating and syncing all project\n",(0,i.jsx)(n.a,{href:"./project#owners",children:(0,i.jsx)(n.code,{children:"owners"})})," in the workspace when a ",(0,i.jsx)(n.a,{href:"../concepts/target",children:"target is run"}),". The format\nand location of the ",(0,i.jsx)(n.code,{children:"CODEOWNERS"})," file is based on the ",(0,i.jsx)(n.a,{href:"#provider",children:(0,i.jsx)(n.code,{children:"vcs.provider"})})," setting. Defaults\nto ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"codeowners:\n  syncOnRun: true\n"})}),"\n",(0,i.jsx)(n.h2,{id:"constraints",children:(0,i.jsx)(n.code,{children:"constraints"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#constraints"}),"\n",(0,i.jsx)(n.p,{children:"Configures constraints between projects that are enforced during project graph generation. This is\nalso known as project boundaries."}),"\n",(0,i.jsx)(n.h3,{id:"enforceprojecttyperelationships",children:(0,i.jsx)(n.code,{children:"enforceProjectTypeRelationships"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/ConstraintsConfig#enforceProjectTypeRelationships"}),"\n",(0,i.jsxs)(n.p,{children:["Enforces allowed relationships between a project its dependencies based on the project's\n",(0,i.jsx)(n.a,{href:"./project#type",children:(0,i.jsx)(n.code,{children:"type"})})," and ",(0,i.jsx)(n.a,{href:"./project#stack",children:(0,i.jsx)(n.code,{children:"stack"})})," settings. When a project depends on another\nproject of an invalid type, an error will be thrown when attempting to run a task. The following\nrelationships are enforced when this setting is enabled, which defaults to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Applications can depend on all types ",(0,i.jsx)(n.em,{children:"except other"})," applications or automation."]}),"\n",(0,i.jsxs)(n.li,{children:["Automation can depend on all types ",(0,i.jsx)(n.em,{children:"except other"})," automation."]}),"\n",(0,i.jsxs)(n.li,{children:["Libraries can ",(0,i.jsx)(n.em,{children:"only"})," depend on other libraries, configuration, or scaffolding."]}),"\n",(0,i.jsxs)(n.li,{children:["Tools can ",(0,i.jsx)(n.em,{children:"only"})," depend on libraries, configuration, or scaffolding."]}),"\n",(0,i.jsxs)(n.li,{children:["Configuration and scaffolding can ",(0,i.jsx)(n.em,{children:"only"})," depend on other configuration and scaffolding."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When the project ",(0,i.jsx)(n.code,{children:"stack"})," setting is defined, it alters these rules to allow these kinds of\nrelationships. For example, a frontend application can depend on a backend application, but not\nanother frontend application."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"constraints:\n  enforceProjectTypeRelationships: false\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Projects with an unconfigured or unknown type are ignored during enforcement."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"tagrelationships",children:(0,i.jsx)(n.code,{children:"tagRelationships"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/ConstraintsConfig#tagRelationships"}),"\n",(0,i.jsxs)(n.p,{children:["Enforces allowed relationships between a project and its dependencies based on the project's\n",(0,i.jsx)(n.a,{href:"./project#tags",children:(0,i.jsx)(n.code,{children:"tags"})})," setting. This works in a similar fashion to\n",(0,i.jsx)(n.code,{children:"enforceProjectTypeRelationships"}),", but gives you far more control over what these relationships look\nlike."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, let's enforce that Next.js projects using the ",(0,i.jsx)(n.code,{children:"next"})," tag can only depend on React\nprojects using the ",(0,i.jsx)(n.code,{children:"react"})," tag. If a dependency does not have one of the configured required tags,\nin this case ",(0,i.jsx)(n.code,{children:"react"}),", an error will occur."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2,3}',children:"constraints:\n  tagRelationships:\n    next: ['react']\n"})}),"\n",(0,i.jsxs)(n.p,{children:["On the project side, we would configure ",(0,i.jsx)(n.a,{href:"./project#tags",children:(0,i.jsx)(n.code,{children:"moon.yml"})})," like so:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="app/moon.yml"',children:"tags: ['next']\ndependsOn: ['components']\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="packages/components/moon.yml"',children:"tags: ['react']\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"docker",children:[(0,i.jsx)(n.code,{children:"docker"}),(0,i.jsx)(a.Z,{version:"1.27.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/ProjectConfig#docker"}),"\n",(0,i.jsx)(n.p,{children:"Configures Docker integration for the entire workspace."}),"\n",(0,i.jsx)(n.h3,{id:"prune",children:(0,i.jsx)(n.code,{children:"prune"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/DockerConfig#prune"}),"\n",(0,i.jsxs)(n.p,{children:["Configures aspects of the Docker pruning process when\n",(0,i.jsx)(n.a,{href:"../commands/docker/prune",children:(0,i.jsx)(n.code,{children:"moon docker prune"})})," is executed."]}),"\n",(0,i.jsx)(n.h4,{id:"deletevendordirectories",children:(0,i.jsx)(n.code,{children:"deleteVendorDirectories"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/DockerPruneConfig#deleteVendorDirectories"}),"\n",(0,i.jsxs)(n.p,{children:["Automatically delete vendor directories (package manager dependencies, build targets, etc) while\npruning. For example, ",(0,i.jsx)(n.code,{children:"node_modules"})," for JavaScript, or ",(0,i.jsx)(n.code,{children:"target"})," for Rust. Defaults to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3}',children:"docker:\n  prune:\n    deleteVendorDirectories: false\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"This process happens before toolchain dependencies are installed."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"installtoolchaindeps",children:(0,i.jsx)(n.code,{children:"installToolchainDeps"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/DockerPruneConfig#installToolchainDeps"}),"\n",(0,i.jsxs)(n.p,{children:["Automatically install production dependencies for all required toolchain's of the focused projects\nwithin the Docker build. For example, ",(0,i.jsx)(n.code,{children:"node_modules"})," for JavaScript. Defaults to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3}',children:"docker:\n  prune:\n    installToolchainDeps: false\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"This process happens after vendor directories are deleted."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"scaffold",children:(0,i.jsx)(n.code,{children:"scaffold"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/DockerConfig#scaffold"}),"\n",(0,i.jsxs)(n.p,{children:["Configures aspects of the Docker scaffolding process when\n",(0,i.jsx)(n.a,{href:"../commands/docker/scaffold",children:(0,i.jsx)(n.code,{children:"moon docker scaffold"})})," is executed. Only applies to the\n",(0,i.jsx)(n.a,{href:"../commands/docker/scaffold#workspace",children:"workspace skeleton"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"copytoolchainfiles",children:(0,i.jsx)(n.code,{children:"copyToolchainFiles"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/DockerScaffoldConfig#copyToolchainFiles"}),"\n",(0,i.jsxs)(n.p,{children:["Copy all toolchain specific configs, manifests, and related files in the entire repository into the\n",(0,i.jsx)(n.code,{children:".moon/docker/workspace"})," skeleton. This is required for certain tools, like package managers, to\nwork correctly. Defaults to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3}',children:"docker:\n  scaffold:\n    copyToolchainFiles: false\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["If you disable this feature, you'll most likely need to manually ",(0,i.jsx)(n.code,{children:"COPY"})," all necessary files in\nyour ",(0,i.jsx)(n.code,{children:"Dockerfile"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"include",children:(0,i.jsx)(n.code,{children:"include"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/DockerScaffoldConfig#include"}),"\n",(0,i.jsxs)(n.p,{children:["List of globs in which to copy additional workspace-relative files into the ",(0,i.jsx)(n.code,{children:".moon/docker/workspace"}),"\nskeleton. When not defined, does nothing."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3,4}',children:"docker:\n  scaffold:\n    include:\n      - '**/package.json'\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"experiments",children:[(0,i.jsx)(n.code,{children:"experiments"}),(0,i.jsx)(a.Z,{version:"1.11.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#experiments"}),"\n",(0,i.jsx)(n.p,{children:"Enable or disable experiments that alter core functionality."}),"\n",(0,i.jsxs)(n.h2,{id:"extensions",children:[(0,i.jsx)(n.code,{children:"extensions"}),(0,i.jsx)(a.Z,{version:"1.20.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#extensions"}),"\n",(0,i.jsxs)(n.p,{children:["A mapping of extensions that can be downloaded and executed with the ",(0,i.jsx)(n.a,{href:"../commands/ext",children:(0,i.jsx)(n.code,{children:"moon ext"})}),"\ncommand. An extension is a WASM plugin, and the location of the WASM file must be defined with the\n",(0,i.jsx)(n.code,{children:"plugin"})," field, which requires a\n",(0,i.jsx)(n.a,{href:"../guides/wasm-plugins#configuring-plugin-locations",children:"plugin locator string"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-5}',children:"extensions:\n  example:\n    plugin: 'file://./path/to/example.wasm'\n    # or\n    plugin: 'https://example.com/path/to/example.wasm'\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Additionally, extensions support custom configuration that is passed to the WASM runtime when the\nplugin is instantiated. This configuration is defined by inserting additional fields under the\nextension name, relative to the ",(0,i.jsx)(n.code,{children:"plugin"})," field. Each extension may have its own settings, so refer\nto their documentation for more information."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-5}',children:"extensions:\n  example:\n    plugin: 'file://./path/to/example.wasm'\n    setting1: true\n    setting2: 'abc'\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["View our official ",(0,i.jsx)(n.a,{href:"../guides/extensions",children:"extensions guide"})," for more information, including built-in\nextensions!"]})}),"\n",(0,i.jsx)(n.h2,{id:"generator",children:(0,i.jsx)(n.code,{children:"generator"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#generator"}),"\n",(0,i.jsx)(n.p,{children:"Configures aspects of the template generator."}),"\n",(0,i.jsx)(n.h3,{id:"templates",children:(0,i.jsx)(n.code,{children:"templates"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/GeneratorConfig#templates"}),"\n",(0,i.jsxs)(n.p,{children:["A list of paths in which templates can be located. Supports the following types of paths, and\ndefaults to ",(0,i.jsx)(n.code,{children:"./templates"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"File system paths, relative from the workspace root."}),"\n",(0,i.jsxs)(n.li,{children:["Git repositories and a revision, prefixed with ",(0,i.jsx)(n.code,{children:"git://"}),". ",(0,i.jsx)(a.Z,{inline:!0,version:"1.23.0"})]}),"\n",(0,i.jsxs)(n.li,{children:["npm packages and a version, prefixed with ",(0,i.jsx)(n.code,{children:"npm://"}),". ",(0,i.jsx)(a.Z,{inline:!0,version:"1.23.0"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-4}',children:"generator:\n  templates:\n    - './templates'\n    - 'file://./other/templates'\n    - 'git://github.com/moonrepo/templates#master'\n    - 'npm://@moonrepo/templates#1.2.3'\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Learn more about this in the official\n",(0,i.jsx)(n.a,{href:"../guides/codegen#configuring-template-locations",children:"code generation guide"}),"!"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"hasher",children:(0,i.jsx)(n.code,{children:"hasher"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#hasher"}),"\n",(0,i.jsx)(n.p,{children:"Configures aspects of the smart hashing layer."}),"\n",(0,i.jsx)(n.h3,{id:"batchsize",children:(0,i.jsx)(n.code,{children:"batchSize"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/HasherConfig#batchSize"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"This setting is deprecated!"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When hashing a list of files, we split the list into batches to help reduce memory footprint and\navoid overloading the configured VCS. This setting controls how many files are in each batch and\ndefaults to ",(0,i.jsx)(n.code,{children:"2500"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"If you're running into memory issues, or moon hanging during the file hashing process, lowering this\nnumber may help resolve the issue."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"hasher:\n  batchSize: 1000\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"ignoremissingpatterns",children:[(0,i.jsx)(n.code,{children:"ignoreMissingPatterns"}),(0,i.jsx)(a.Z,{version:"1.10.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/HasherConfig#ignoreMissingPatterns"}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.a,{href:"#warnonmissinginputs",children:(0,i.jsx)(n.code,{children:"hasher.warnOnMissingInputs"})})," is enabled, moon will log a warning to the\nterminal that an input is missing. This is useful for uncovering misconfigurations, but can be quite\nnoisy when inputs are truly optional."]}),"\n",(0,i.jsxs)(n.p,{children:["To ignore warnings for missing inputs, a list of ",(0,i.jsx)(n.a,{href:"../concepts/file-pattern#globs",children:"glob patterns"})," can\nbe configured to filter and ignore files. Files are matched against workspace relative paths, so\nprefixing patterns with ",(0,i.jsx)(n.code,{children:"**/"})," is suggested."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-4}',children:"hasher:\n  ignoreMissingPatterns:\n    - '**/.eslintrc.*'\n    - '**/*.config.*'\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"ignorepatterns",children:[(0,i.jsx)(n.code,{children:"ignorePatterns"}),(0,i.jsx)(a.Z,{version:"1.10.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/HasherConfig#ignorePatterns"}),"\n",(0,i.jsxs)(n.p,{children:["A list of ",(0,i.jsx)(n.a,{href:"../concepts/file-pattern#globs",children:"glob patterns"})," used to filter and ignore files during the\ninputs hashing process. Files are matched against workspace relative paths, so prefixing patterns\nwith ",(0,i.jsx)(n.code,{children:"**/"})," is suggested."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2,3}',children:"hasher:\n  ignorePatterns:\n    - '**/*.png'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"optimization",children:(0,i.jsx)(n.code,{children:"optimization"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/HasherConfig#optimization"}),"\n",(0,i.jsx)(n.p,{children:"Determines the optimization level to utilize when hashing content before running targets."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"accuracy"})," (default) - When hashing dependency versions, utilize the resolved value in the\nlockfile. This requires parsing the lockfile, which may reduce performance."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"performance"})," - When hashing dependency versions, utilize the value defined in the manifest. This\nis typically a version range or requirement."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"hasher:\n  optimization: 'performance'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"walkstrategy",children:(0,i.jsx)(n.code,{children:"walkStrategy"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/HasherConfig#walkStrategy"}),"\n",(0,i.jsx)(n.p,{children:"Defines the file system walking strategy to utilize when discovering inputs to hash."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"glob"})," - Walks the file system using glob patterns."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"vcs"})," (default) - Calls out to the ",(0,i.jsx)(n.a,{href:"#vcs",children:"VCS"})," to extract files from its working tree."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"hasher:\n  walkStrategy: 'glob'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"warnonmissinginputs",children:(0,i.jsx)(n.code,{children:"warnOnMissingInputs"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/HasherConfig#warnOnMissingInputs"}),"\n",(0,i.jsxs)(n.p,{children:["When enabled, will log warnings to the console when attempting to hash an input that does not exist.\nThis is useful in uncovering misconfigured tasks. Defaults to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"hasher:\n  warnOnMissingInputs: false\n"})}),"\n",(0,i.jsx)(n.h2,{id:"notifier",children:(0,i.jsx)(n.code,{children:"notifier"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#notifier"}),"\n",(0,i.jsx)(n.p,{children:"Configures how moon notifies and interacts with a developer or an external system."}),"\n",(0,i.jsx)(n.h3,{id:"webhookurl",children:(0,i.jsx)(n.code,{children:"webhookUrl"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/NotifierConfig#webhookUrl"}),"\n",(0,i.jsxs)(n.p,{children:["Defines an HTTPS URL that all pipeline events will be posted to. View the\n",(0,i.jsx)(n.a,{href:"../guides/webhooks",children:"webhooks guide for more information"})," on available events."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"notifier:\n  webhookUrl: 'https://api.company.com/some/endpoint'\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"unstable_remote",children:[(0,i.jsx)(n.code,{children:"unstable_remote"}),(0,i.jsx)(a.Z,{version:"1.30.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#unstable_remote"}),"\n",(0,i.jsxs)(n.p,{children:["Configures a remote service, primarily for cloud-based caching of artifacts. Learn more about this\nin the ",(0,i.jsx)(n.a,{href:"../guides/remote-cache",children:"remote caching"})," guide."]}),"\n",(0,i.jsxs)(n.h3,{id:"api",children:[(0,i.jsx)(n.code,{children:"api"}),(0,i.jsx)(a.Z,{version:"1.32.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteConfig#api"}),"\n",(0,i.jsx)(n.p,{children:"The API format of the remote server. This format dictates which type of client moon uses for\ncommunicating with. Supports the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"grpc"})," (default) - Uses the gRPC API: ",(0,i.jsx)(n.a,{href:"https://github.com/bazelbuild/remote-apis",children:"https://github.com/bazelbuild/remote-apis"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"http"})," - Uses the HTTP API: ",(0,i.jsx)(n.a,{href:"https://bazel.build/remote/caching#http-caching",children:"https://bazel.build/remote/caching#http-caching"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"unstable_remote:\n  api: 'grpc'\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"auth",children:[(0,i.jsx)(n.code,{children:"auth"}),(0,i.jsx)(a.Z,{version:"1.32.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteConfig#auth"}),"\n",(0,i.jsx)(n.p,{children:"Configures authorization and authentication level features of our remote clients."}),"\n",(0,i.jsxs)(n.h4,{id:"headers",children:[(0,i.jsx)(n.code,{children:"headers"}),(0,i.jsx)(a.Z,{version:"1.32.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteAuthConfig#headers"}),"\n",(0,i.jsxs)(n.p,{children:["A mapping of HTTP headers to include in all requests to the remote server. These headers are applied\nto all ",(0,i.jsx)(n.a,{href:"#api",children:"API formats and protocols"}),", not just HTTP."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-4}',children:"unstable_remote:\n  auth:\n    headers:\n      'X-Custom-Header': 'value'\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"token",children:[(0,i.jsx)(n.code,{children:"token"}),(0,i.jsx)(a.Z,{version:"1.32.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteAuthConfig#token"}),"\n",(0,i.jsxs)(n.p,{children:["The name of an environment variable in which to extract a token for\n",(0,i.jsx)(n.a,{href:"https://swagger.io/docs/specification/v3_0/authentication/bearer-authentication/",children:"Bearer HTTP authorization"}),".\nAn ",(0,i.jsx)(n.code,{children:"Authorization"})," HTTP header will be included in all requests to the remote server."]}),"\n",(0,i.jsx)(n.p,{children:"If the token does not exist, or is not enabled, remote caching will be disabled."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-4}',children:"unstable_remote:\n  auth:\n    token: 'ENV_VAR_NAME'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cache",children:(0,i.jsx)(n.code,{children:"cache"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteConfig#cache"}),"\n",(0,i.jsx)(n.p,{children:"Configures aspects of the caching layer, primarily the action cache (AC) and content addressable\ncache (CAS)."}),"\n",(0,i.jsxs)(n.h4,{id:"compression",children:[(0,i.jsx)(n.code,{children:"compression"}),(0,i.jsx)(a.Z,{version:"1.31.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteCacheConfig#compression"}),"\n",(0,i.jsxs)(n.p,{children:["The compression format to use when uploading/downloading blobs. Supports ",(0,i.jsx)(n.code,{children:"none"})," and ",(0,i.jsx)(n.code,{children:"zstd"}),", and\ndefaults to no compression (",(0,i.jsx)(n.code,{children:"identity"})," format in RE API)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3}',children:"unstable_remote:\n  cache:\n    compression: 'zstd'\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Compression is only applied to gRPC based APIs, not HTTP."})}),"\n",(0,i.jsx)(n.h4,{id:"instancename",children:(0,i.jsx)(n.code,{children:"instanceName"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteCacheConfig#instanceName"}),"\n",(0,i.jsxs)(n.p,{children:["A\n",(0,i.jsx)(n.a,{href:"https://github.com/bazelbuild/remote-apis/blob/main/build/bazel/remote/execution/v2/remote_execution.proto#L223",children:"unique identifier"}),"\nused to distinguish between the various instances on the host. This allows the same remote service\nto serve and partition multiple moon repositories. Defaults to ",(0,i.jsx)(n.code,{children:"moon-outputs"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3}',children:"unstable_remote:\n  cache:\n    instanceName: 'custom-dir-name'\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"We suggest changing the instance name to the name of your repository!"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"host",children:(0,i.jsx)(n.code,{children:"host"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteConfig#host"}),"\n",(0,i.jsxs)(n.p,{children:["The host URL to communicate with when uploading and downloading artifacts. Supports both\n",(0,i.jsx)(n.code,{children:"grpc(s)://"})," and ",(0,i.jsx)(n.code,{children:"http(s)://"})," protocols. This field is required!"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"unstable_remote:\n  host: 'grpcs://your-host.com:9092'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mtls",children:(0,i.jsx)(n.code,{children:"mtls"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteConfig#mtls"}),"\n",(0,i.jsx)(n.p,{children:"Connect to the host using server and client authentication with mTLS. This takes precedence over\nnormal TLS."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3-7}',children:"unstable_remote:\n  # ...\n  mtls:\n    caCert: 'certs/ca.pem'\n    clientCert: 'certs/client.pem'\n    clientKey: 'certs/client.key'\n    domain: 'your-host.com'\n"})}),"\n",(0,i.jsx)(n.h4,{id:"assumehttp2",children:(0,i.jsx)(n.code,{children:"assumeHttp2"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteMtlsConfig#assumeHttp2"}),"\n",(0,i.jsx)(n.p,{children:"If true, assume that the host supports HTTP/2, even if it doesn't provide protocol negotiation via\nALPN."}),"\n",(0,i.jsx)(n.h4,{id:"cacert",children:(0,i.jsx)(n.code,{children:"caCert"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteMtlsConfig#caCert"}),"\n",(0,i.jsxs)(n.p,{children:["A file path, relative from the workspace root, to the certificate authority PEM encoded X509\ncertificate (typically ",(0,i.jsx)(n.code,{children:"ca.pem"}),")."]}),"\n",(0,i.jsx)(n.h4,{id:"clientcert",children:(0,i.jsx)(n.code,{children:"clientCert"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteMtlsConfig#clientCert"}),"\n",(0,i.jsxs)(n.p,{children:["A file path, relative from the workspace root, to the client's PEM encoded X509 certificate\n(typically ",(0,i.jsx)(n.code,{children:"client.pem"}),")."]}),"\n",(0,i.jsx)(n.h4,{id:"clientkey",children:(0,i.jsx)(n.code,{children:"clientKey"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteMtlsConfig#clientKey"}),"\n",(0,i.jsxs)(n.p,{children:["A file path, relative from the workspace root, to the client's PEM encoded X509 private key\n(typically ",(0,i.jsx)(n.code,{children:"client.key"}),")."]}),"\n",(0,i.jsx)(n.h4,{id:"domain",children:(0,i.jsx)(n.code,{children:"domain"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteMtlsConfig#domain"}),"\n",(0,i.jsx)(n.p,{children:"The domain name in which to verify the TLS certificate."}),"\n",(0,i.jsx)(n.h3,{id:"tls",children:(0,i.jsx)(n.code,{children:"tls"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteConfig#tls"}),"\n",(0,i.jsx)(n.p,{children:"Connect to the host using server-only authentication with TLS."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {3-5}',children:"unstable_remote:\n  # ...\n  tls:\n    cert: 'certs/ca.pem'\n    domain: 'your-host.com'\n"})}),"\n",(0,i.jsx)(n.h4,{id:"assumehttp2-1",children:(0,i.jsx)(n.code,{children:"assumeHttp2"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteTlsConfig#assumeHttp2"}),"\n",(0,i.jsx)(n.p,{children:"If true, assume that the host supports HTTP/2, even if it doesn't provide protocol negotiation via\nALPN."}),"\n",(0,i.jsx)(n.h4,{id:"cert",children:(0,i.jsx)(n.code,{children:"cert"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteTlsConfig#cert"}),"\n",(0,i.jsxs)(n.p,{children:["A file path, relative from the workspace root, to the certificate authority PEM encoded X509\ncertificate (typically ",(0,i.jsx)(n.code,{children:"ca.pem"}),")."]}),"\n",(0,i.jsx)(n.h4,{id:"domain-1",children:(0,i.jsx)(n.code,{children:"domain"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RemoteTlsConfig#domain"}),"\n",(0,i.jsx)(n.p,{children:"The domain name in which to verify the TLS certificate."}),"\n",(0,i.jsx)(n.h2,{id:"runner",children:(0,i.jsx)(n.code,{children:"runner"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#runner"}),"\n",(0,i.jsx)(n.p,{children:"Configures aspects of task running and the action pipeline."}),"\n",(0,i.jsx)(n.h3,{id:"archivabletargets",children:(0,i.jsx)(n.code,{children:"archivableTargets"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RunnerConfig#archivableTargets"}),"\n",(0,i.jsxs)(n.p,{children:["Defines a list of ",(0,i.jsx)(n.a,{href:"../concepts/target",children:"targets"}),", with or without scope, that will be cached and\narchived within the runner. Tasks that produce ",(0,i.jsx)(n.a,{href:"./project#outputs",children:"outputs"})," are automatically\narchived, and do not need to be defined here. Defaults to an empty list."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-4}',children:"runner:\n  archivableTargets:\n    - ':test'\n    - 'app:typecheck'\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["This setting primarily exists for ",(0,i.jsx)(n.a,{href:"../guides/remote-cache",children:"remote caching"})," as it will create and\npersist tar archives located in ",(0,i.jsx)(n.code,{children:".moon/cache/outputs"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"autocleancache",children:[(0,i.jsx)(n.code,{children:"autoCleanCache"}),(0,i.jsx)(a.Z,{version:"1.24.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RunnerConfig#autoCleanCache"}),"\n",(0,i.jsxs)(n.p,{children:["Automatically cleans cached artifacts older than ",(0,i.jsx)(n.a,{href:"#cachelifetime",children:(0,i.jsx)(n.code,{children:"cacheLifetime"})})," from the cache\ndirectory (",(0,i.jsx)(n.code,{children:".moon/cache"}),") after every run. This is useful for keeping the cache directory lean.\nDefaults to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"runner:\n  autoCleanCache: false\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cachelifetime",children:(0,i.jsx)(n.code,{children:"cacheLifetime"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RunnerConfig#cacheLifetime"}),"\n",(0,i.jsxs)(n.p,{children:['The maximum lifetime of cached artifacts before they\'re marked as stale and automatically removed by\nthe action pipeline. Defaults to "7 days". This field requires an integer and a timeframe unit that\ncan be ',(0,i.jsx)(n.a,{href:"https://docs.rs/humantime/2.1.0/humantime/fn.parse_duration.html",children:"parsed as a duration"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"runner:\n  cacheLifetime: '24 hours'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"inheritcolorsforpipedtasks",children:(0,i.jsx)(n.code,{children:"inheritColorsForPipedTasks"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RunnerConfig#inheritColorsForPipedTasks"}),"\n",(0,i.jsxs)(n.p,{children:["Force colors to be inherited from the current terminal for all tasks that are ran as a child process\nand their output is piped to the action pipeline. Defaults to ",(0,i.jsx)(n.code,{children:"true"}),".\n",(0,i.jsx)(n.a,{href:"../commands/overview#colors",children:"View more about color handling in moon"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"runner:\n  inheritColorsForPipedTasks: true\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"killprocessthreshold",children:[(0,i.jsx)(n.code,{children:"killProcessThreshold"}),(0,i.jsx)(a.Z,{version:"1.32.1"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RunnerConfig#killProcessThreshold"}),"\n",(0,i.jsxs)(n.p,{children:["Threshold in milliseconds in which to force kill running child processes after the pipeline receives\nan external signal (like ",(0,i.jsx)(n.code,{children:"SIGINT"})," or ",(0,i.jsx)(n.code,{children:"SIGTERM"}),"). A value of 0 will not kill the process and let them\nrun to completion. Defaults to ",(0,i.jsx)(n.code,{children:"2000"})," (2 seconds)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"runner:\n  killProcessThreshold: 5000\n"})}),"\n",(0,i.jsx)(n.h3,{id:"logrunningcommand",children:(0,i.jsx)(n.code,{children:"logRunningCommand"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/RunnerConfig#logRunningCommand"}),"\n",(0,i.jsxs)(n.p,{children:["When enabled, will log the task's command, resolved arguments, and working directory when a target\nis ran. Defaults to ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"runner:\n  logRunningCommand: true\n"})}),"\n",(0,i.jsx)(n.h2,{id:"telemetry",children:(0,i.jsx)(n.code,{children:"telemetry"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#telemetry"}),"\n",(0,i.jsxs)(n.p,{children:["When enabled, will check for a newer moon version and send anonymous usage data to the moonrepo\nteam. This data is used to improve the quality and reliability of the tool. Defaults to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {1}',children:"telemetry: false\n"})}),"\n",(0,i.jsx)(n.h2,{id:"vcs",children:(0,i.jsx)(n.code,{children:"vcs"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#vcs"}),"\n",(0,i.jsx)(n.p,{children:"Configures the version control system to utilize within the workspace (and repository). A VCS is\nrequired for determining touched (added, modified, etc) files, calculating file hashes, computing\naffected files, and much more."}),"\n",(0,i.jsx)(n.h3,{id:"defaultbranch",children:(0,i.jsx)(n.code,{children:"defaultBranch"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/VcsConfig#defaultBranch"}),"\n",(0,i.jsx)(n.p,{children:'Defines the default branch in the repository for comparing differences against. For git, this is\ntypically "master" (default) or "main".'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"vcs:\n  defaultBranch: 'master'\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"hooks",children:[(0,i.jsx)(n.code,{children:"hooks"}),(0,i.jsx)(a.Z,{version:"1.9.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/VcsConfig#hooks"}),"\n",(0,i.jsx)(n.p,{children:"Defines a mapping of hooks to a list of commands to run when that event is triggered. There are no\nrestrictions to what commands can be run, but the binaries for each command must exist on each\nmachine that will be running hooks."}),"\n",(0,i.jsxs)(n.p,{children:["For Git, each ",(0,i.jsx)(n.a,{href:"https://git-scm.com/docs/githooks#_hooks",children:"hook name"})," must be a valid kebab-cased\nname. ",(0,i.jsx)(n.a,{href:"https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks",children:"Learn more about Git hooks"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-5}',children:"vcs:\n  hooks:\n    pre-commit:\n      - 'moon run :lint :format --affected --status=staged --no-bail'\n      - 'another-command'\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If running ",(0,i.jsx)(n.code,{children:"moon"})," commands directly, the ",(0,i.jsx)(n.code,{children:"moon"})," binary must be installed globally!"]})}),"\n",(0,i.jsxs)(n.h3,{id:"hookformat",children:[(0,i.jsx)(n.code,{children:"hookFormat"}),(0,i.jsx)(a.Z,{version:"1.29.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/VcsConfig#hookFormat"}),"\n",(0,i.jsx)(n.p,{children:"The shell and file type in which generated hook files are formatted with. Supports the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"native"})," (default) - The format native to the current operating system. Bash on Unix, and\nPowerShell on Windows."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bash"})," - Forces the format to Bash for all operating systems."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"vcs:\n  hookFormat: 'bash'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"manager",children:(0,i.jsx)(n.code,{children:"manager"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/VcsConfig#manager"}),"\n",(0,i.jsx)(n.p,{children:'Defines the VCS tool/binary that is being used for managing the repository. Accepts "git" (default).\nExpect more version control systems in the future!'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"vcs:\n  manager: 'git'\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"provider",children:[(0,i.jsx)(n.code,{children:"provider"}),(0,i.jsx)(a.Z,{version:"1.8.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/VcsConfig#provider"}),"\n",(0,i.jsx)(n.p,{children:'Defines the service provider that the repository is hosted on. Accepts "github" (default), "gitlab",\n"bitbucket", or "other".'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2}',children:"vcs:\n  provider: 'github'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"remotecandidates",children:(0,i.jsx)(n.code,{children:"remoteCandidates"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/VcsConfig#remoteCandidates"}),"\n",(0,i.jsx)(n.p,{children:'(Git only) Defines a list of remote candidates to query against to determine merge bases. Defaults\nto "origin" and "upstream".'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {2-4}',children:"vcs:\n  remoteCandidates:\n    - 'origin'\n    - 'upstream'\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"synchooks",children:[(0,i.jsx)(n.code,{children:"syncHooks"}),(0,i.jsx)(a.Z,{version:"1.9.0"})]}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/VcsConfig#syncHooks"}),"\n",(0,i.jsxs)(n.p,{children:["Will automatically generate ",(0,i.jsx)(n.a,{href:"#hooks",children:"hook scripts"})," to ",(0,i.jsx)(n.code,{children:".moon/hooks"})," and sync the scripts to the\nlocal VCS checkout. The hooks format and location is based on the ",(0,i.jsx)(n.a,{href:"#manager",children:(0,i.jsx)(n.code,{children:"vcs.manager"})})," setting.\nDefaults to ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {4}',children:"vcs:\n  hooks:\n    # ...\n  syncHooks: true\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["When enabled, this will sync hooks for ",(0,i.jsx)(n.em,{children:"all"})," users of the repository. For personal or small\nprojects, this may be fine, but for larger projects, this may be undesirable and disruptive!"]})}),"\n",(0,i.jsx)(n.h2,{id:"versionconstraint",children:(0,i.jsx)(n.code,{children:"versionConstraint"})}),"\n",(0,i.jsx)(t.Z,{to:"/api/types/interface/WorkspaceConfig#versionConstraint"}),"\n",(0,i.jsx)(n.p,{children:"Defines a version requirement for the currently running moon binary. This provides a mechanism for\nenforcing that the globally installed moon on every developers machine is using an applicable\nversion."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml" {1}',children:"versionConstraint: '>=0.20.0'\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},39798:(e,n,s)=>{s.d(n,{Z:()=>r});s(27378);var i=s(40624);const o={tabItem:"tabItem_wHwb"};var t=s(24246);function r(e){let{children:n,hidden:s,className:r}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,i.Z)(o.tabItem,r),hidden:s,children:n})}},33337:(e,n,s)=>{s.d(n,{Z:()=>m});var i=s(27378),o=s(40624),t=s(83457),r=s(35595),a=s(76457);const l={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};var c=s(24246);function d(e){let{className:n,block:s,selectedValue:i,selectValue:r,tabValues:a}=e;const d=[],{blockElementScrollPositionUntilNextRender:h}=(0,t.o5)(),p=e=>{const n=e.currentTarget,s=d.indexOf(n),o=a[s].value;o!==i&&(h(n),r(o))},m=e=>{let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const s=d.indexOf(e.currentTarget)+1;n=d[s]??d[0];break}case"ArrowLeft":{const s=d.indexOf(e.currentTarget)-1;n=d[s]??d[d.length-1];break}}n?.focus()};return(0,c.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":s},n),children:a.map((e=>{let{value:n,label:s,attributes:t}=e;return(0,c.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>d.push(e),onKeyDown:m,onClick:p,...t,className:(0,o.Z)("tabs__item",l.tabItem,t?.className,{"tabs__item--active":i===n}),children:s??n},n)}))})}function h(e){let{lazy:n,children:s,selectedValue:o}=e;const t=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=t.find((e=>e.props.value===o));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,c.jsx)("div",{className:"margin-top--md",children:t.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function p(e){const n=(0,r.Y)(e);return(0,c.jsxs)("div",{className:(0,o.Z)("tabs-container",l.tabList),children:[(0,c.jsx)(d,{...n,...e}),(0,c.jsx)(h,{...n,...e})]})}function m(e){const n=(0,a.Z)();return(0,c.jsx)(p,{...e,children:(0,r.h)(e.children)},String(n))}},35595:(e,n,s)=>{s.d(n,{Y:()=>m,h:()=>c});var i=s(27378),o=s(3620),t=s(9834),r=s(30654),a=s(70784),l=s(55643);function c(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:n,children:s}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return c(e).map((e=>{let{props:{value:n,label:s,attributes:i,default:o}}=e;return{value:n,label:s,attributes:i,default:o}}))}(s);return function(e){const n=(0,a.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function h(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:s}=e;const t=(0,o.k6)(),a=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,r._X)(a),(0,i.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})}),[a,t])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:o}=e,r=d(e),[a,c]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=s.find((e=>e.default))??s[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:r}))),[m,u]=p({queryString:s,groupId:o}),[x,f]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,t]=(0,l.Nk)(s);return[o,(0,i.useCallback)((e=>{s&&t.set(e)}),[s,t])]}({groupId:o}),g=(()=>{const e=m??x;return h({value:e,tabValues:r})?e:null})();(0,t.Z)((()=>{g&&c(g)}),[g]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),f(e)}),[u,f,r]),tabValues:r}}},32189:(e,n,s)=>{s.d(n,{Z:()=>r});var i=s(83469),o=s(31792),t=s(24246);function r(e){let{to:n}=e;return(0,t.jsx)("a",{href:n,target:"_blank",className:"float-right inline-block",style:{marginTop:"-3em"},children:(0,t.jsx)(o.Z,{icon:i.dT$})})}},9785:(e,n,s)=>{s.d(n,{Z:()=>t});var i=s(9619),o=s(24246);function t(e){let{text:n="Required"}=e;return(0,o.jsx)(i.Z,{text:n,variant:"failure",className:"ml-2"})}},79022:(e,n,s)=>{s.d(n,{Z:()=>t});var i=s(9619),o=s(24246);function t(e){let{header:n,inline:s,updated:t,version:r}=e;return(0,o.jsx)(i.Z,{text:`v${r}`,variant:t?"success":"info",className:n?"absolute right-0 top-1.5":s?"inline-block":"ml-2"})}},9619:(e,n,s)=>{s.d(n,{Z:()=>a});var i=s(40624),o=s(31792),t=s(24246);const r={failure:"bg-red-100 text-red-900",info:"bg-pink-100 text-pink-900",success:"bg-green-100 text-green-900",warning:"bg-orange-100 text-orange-900"};function a(e){let{className:n,icon:s,text:a,variant:l}=e;return(0,t.jsxs)("span",{className:(0,i.Z)("inline-flex items-center px-1 py-0.5 rounded text-xs font-bold uppercase",l?r[l]:"bg-gray-100 text-gray-800",n),children:[s&&(0,t.jsx)(o.Z,{icon:s,className:"mr-1"}),a]})}},71670:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>r});var i=s(27378);const o={},t=i.createContext(o);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);